<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>팻머스문화선교회 20주년 홈커밍데이</title>

    <!-- 카카오톡 등 소셜 미디어 공유를 위한 오픈 그래프(Open Graph) 정보 -->
    <meta property="og:title" content="[초대장] 팻머스 20주년 홈커밍데이">
    <meta property="og:description" content="와우~~ 벌써 20년! 같이 모여 밥 한 번 먹어요!">
    <meta property="og:image" content="https://i.postimg.cc/t4905Nsb/2-4x.png">
    <meta property="og:url" content="https://ipatmos.github.io/20th/)">
    <!-- // 오픈 그래프 정보 끝 -->

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Nanum+Pen+Script&display=swap" rel="stylesheet">
    <style>
        /* * 디자인 커스터마이징 섹션
         * 이곳에서 초대장의 주요 색상과 글꼴을 쉽게 변경할 수 있습니다.
         */
        :root {
            --font-main: 'Noto Sans KR', sans-serif;
            --color-primary: #F57C00; /* 따뜻하고 활기찬 오렌지 */
            --color-secondary: #FFF3E0; /* 부드러운 오렌지/베이지 */
            --color-accent: #03A9F4; /* 포인트 하늘색 */
            --color-background: #FFF8E1; /* 매우 부드러운 크림색 배경 */
            --color-text-dark: #5D4037; /* 부드러운 다크 브라운 */
            --color-text-light: #757575; /* 중간 그레이 */
            --color-navy: #2C3E50; /* 포인트 네이비 */
        }
        body {
            font-family: var(--font-main);
            background-color: var(--color-background);
            color: var(--color-text-dark);
            /* 폰트 로딩 전 깜빡임(FOUT) 방지를 위해 초기에 숨김 */
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .bg-primary { background-color: var(--color-primary); }
        .text-primary { color: var(--color-primary); }
        .bg-secondary { background-color: var(--color-secondary); }
        .text-secondary { color: var(--color-secondary); }
        .bg-accent { background-color: var(--color-accent); }
        .text-accent { color: var(--color-accent); }
        .border-primary { border-color: var(--color-primary); }
        .text-navy { color: var(--color-navy); }
        
        .loader {
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--color-primary);
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto max-w-2xl p-4 sm:p-8">
        
        <!-- 초대장 섹션 -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden p-6 sm:p-10 text-center">
            
            <header class="mb-8">
                <img src="https://i.postimg.cc/t4905Nsb/2-4x.png" alt="팻머스 로고" class="w-24 h-auto mx-auto mb-6">
                
                <h1 class="text-2xl sm:text-3xl font-bold mb-2" style="line-height: 2.5;">
                    <span class="text-navy">고마운 당신과,</span><br>
                    <span class="text-primary text-4xl sm:text-5xl" style="font-family: 'Nanum Pen Script', cursive;">팻머스 20주년 Homecoming Day</span>
                </h1>
            </header>
            
            <section class="mb-10 text-gray-700 leading-relaxed text-center">
                <p class="mb-4 text-lg font-medium">
                    와우~~ 벌써 20년!<br>
                    모두에게 감사합니다.<br>
                    같이 모여 밥 한 번 먹고 싶네요.
                </p>
                <p class="text-lg font-medium">
                    오셔서 서로 얼굴을 마주 보고 앉아,<br>
                    살아온 이야기와 팻머스의 추억을<br>
                    편하게 나누다 가요.
                </p>
                <p class="mt-4 font-bold text-lg text-primary">꼭 오세요~!</p>
            </section>

            <section class="bg-secondary rounded-xl p-6 mb-8 text-left space-y-4">
                <div class="flex items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-primary flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                    <div>
                        <h3 class="font-bold text-gray-800">일시</h3>
                        <p class="font-bold text-primary">2025년 10월 27일 (월) 오후 6시 30분</p>
                    </div>
                </div>
                <div class="flex items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-primary flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                    <div>
                        <h3 class="font-bold text-gray-800">장소</h3>
                        <p class="text-gray-600">청운교회 비전센터 7층 <br>(서울 강남구 언주로65길 6)</p>
                    </div>
                </div>
                <div class="flex items-start">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-primary flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 14h18M5 14v-4a7 7 0 0114 0v4M12 4v2" />
                    </svg>
                    <div>
                        <h3 class="font-bold text-gray-800">식사 안내</h3>
                        <p class="text-gray-600">맛있는 뷔페를 준비했어요!</p>
                    </div>
                </div>
            </section>
            
            <!-- 버튼 그룹 -->
            <section class="space-y-3">
                <p class="text-sm font-semibold text-gray-700">오시는 길 (지도 선택)</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                    <a href="https://map.naver.com/p/search/서울 강남구 언주로65길 6" target="_blank" class="w-full bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition-colors duration-300 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24"><path d="M12.382 23.618L4.364 14.545h15.272L12.382 23.618zM4.364 9.455h7.637V.382L4.364 9.455zm8.018 0h7.637L12.382.382v9.073z"/></svg>
                        네이버 지도
                    </a>
                    <a href="https://map.kakao.com/link/search/서울 강남구 언주로65길 6" target="_blank" class="w-full bg-yellow-400 text-black font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition-colors duration-300 flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5c-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7c0 .584.478 1.055 1.05 1.055.578 0 1.05-.477 1.05-1.055C22 6.477 17.523 2 12 2zm3 9c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1zm-6 0c-.552 0-1 .448-1 1s.448 1 1 1 1-.448 1-1-.448-1-1-1z"/></svg>
                        카카오맵
                    </a>
                </div>
            </section>
        </div>

        <!-- RSVP 폼 섹션 -->
        <div class="bg-white rounded-2xl shadow-lg mt-8 p-6 sm:p-10">
            <h2 class="text-2xl font-bold text-center mb-2 text-primary">참석 알려주기 (RSVP)</h2>
            <p class="text-center text-gray-600 mb-8 leading-relaxed">
                원활한 행사 준비를 위해<br>
                <strong class="font-semibold text-primary">2025년 10월 13일(월)</strong>까지<br>
                참석 여부를 알려주시면<br>
                큰 도움이 됩니다!
            </p>

            <form id="rsvp-form" class="space-y-6">
                <!-- 기본 정보 -->
                <div>
                    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">성함</label>
                    <input type="text" name="성함" id="name" required class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
                </div>
                <div>
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">연락처</label>
                    <input type="tel" name="연락처" id="phone" required class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
                </div>
                
                <!-- 참석 여부 -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">참석 여부</label>
                    <div class="flex space-x-4">
                        <label class="flex items-center">
                            <input type="radio" name="참석여부" value="참석" id="attendance-yes" class="h-4 w-4 text-primary focus:ring-primary border-gray-300" required>
                            <span class="ml-2 text-gray-700">네, 갈게요!</span>
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="참석여부" value="불참" id="attendance-no" class="h-4 w-4 text-primary focus:ring-primary border-gray-300">
                            <span class="ml-2 text-gray-700">아쉽지만, 못 가요</span>
                        </label>
                    </div>
                </div>
                
                <!-- 조건부 섹션: 참석 시에만 보임 -->
                <div id="conditional-sections" class="space-y-6 hidden">
                    <!-- 동행인 정보 -->
                    <div>
                        <label for="accompanying" class="block text-sm font-medium text-gray-700 mb-1">함께 오는 분</label>
                        <p class="text-xs text-gray-500 mb-2">배우자, 자녀 등 함께 오시는 분들의 정보를 적어주세요.</p>
                        <input type="text" name="동행인원" id="accompanying" placeholder="예: 배우자 1명, 아이 2명" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
                    </div>
                    
                    <!-- 차량 이용 -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">차 가지고 오시나요?</label>
                        <p class="text-xs text-gray-500 mb-2">되도록 대중교통 이용을 부탁드려요.</p>
                        <div class="flex space-x-4">
                            <label class="flex items-center">
                                <input type="radio" name="차량이용" value="예" id="vehicle-yes" class="h-4 w-4 text-primary focus:ring-primary border-gray-300">
                                <span class="ml-2 text-gray-700">네</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="차량이용" value="아니오" id="vehicle-no" class="h-4 w-4 text-primary focus:ring-primary border-gray-300">
                                <span class="ml-2 text-gray-700">아니오</span>
                            </label>
                        </div>
                    </div>

                    <!-- 차량 번호 (조건부) -->
                    <div id="vehicle-number-section" class="hidden">
                        <label for="vehicle-number" class="block text-sm font-medium text-gray-700 mb-1">차량 번호</label>
                        <p class="text-xs text-gray-500 mb-2">교회 주차장 이용에 꼭 필요해요.</p>
                        <input type="text" name="차량번호" id="vehicle-number" placeholder="예: 12가 3456" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
                    </div>
                </div>

                <!-- 남기고 싶은 말 -->
                <div>
                    <label for="memo" class="block text-sm font-medium text-gray-700 mb-1">남기고 싶은 말</label>
                    <textarea name="남기고 싶은 말" id="memo" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-primary focus:border-primary"></textarea>
                </div>
                
                <!-- 개인정보 동의 -->
                <div class="relative flex items-start">
                    <div class="flex items-center h-5">
                        <input id="privacy-policy" name="개인정보동의" type="checkbox" required class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
                    </div>
                    <div class="ml-3 text-sm">
                        <label for="privacy-policy" class="font-medium text-gray-700">개인정보 수집 및 이용 동의</label>
                        <p class="text-gray-500 text-xs">보내주신 정보는 행사 준비를 위해서만 사용돼요.</p>
                    </div>
                </div>

                <!-- 제출 버튼 -->
                <div>
                    <button type="submit" id="submit-btn" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-lg font-medium text-white bg-primary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:bg-gray-400 disabled:cursor-not-allowed">
                        <span id="submit-text">참석 알리기</span>
                        <div id="submit-loader" class="loader hidden"></div>
                    </button>
                </div>
            </form>

            <!-- 제출 결과 메시지 -->
            <div id="form-status" class="mt-6 text-center"></div>
            
            <!-- 문의처 -->
            <footer class="mt-10 pt-6 border-t border-gray-200 text-center">
                <p class="text-sm font-semibold text-gray-700">궁금한 점은?</p>
                <p class="text-sm text-gray-500 mt-1">최일모 본부장 (010-9163-5897)</p>
                <p class="text-sm text-gray-500">최선 본부장 (010-6543-9629)</p>
            </footer>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- Google Sheets 연동 설정 ---
            const GOOGLE_SHEET_URL = 'https://script.google.com/macros/s/AKfycbyXwLEf626h_DhAeiMciSR58V3vbgs2qDTtALA4GAWob5jP5JRSHWWqjJYb5vnV2wKq/exec'; 
            
            // --- RSVP 폼 조건부 로직 ---
            const form = document.getElementById('rsvp-form');
            const attendanceYes = document.getElementById('attendance-yes');
            const attendanceNo = document.getElementById('attendance-no');
            const conditionalSections = document.getElementById('conditional-sections');
            
            const vehicleYes = document.getElementById('vehicle-yes');
            const vehicleNo = document.getElementById('vehicle-no');
            const vehicleNumberSection = document.getElementById('vehicle-number-section');
            const vehicleNumberInput = document.getElementById('vehicle-number');

            function toggleConditionalSections() {
                if (attendanceYes.checked) {
                    conditionalSections.classList.remove('hidden');
                } else {
                    conditionalSections.classList.add('hidden');
                    vehicleYes.checked = false;
                    vehicleNo.checked = false;
                    toggleVehicleNumberSection();
                }
            }

            function toggleVehicleNumberSection() {
                if (vehicleYes.checked) {
                    vehicleNumberSection.classList.remove('hidden');
                    vehicleNumberInput.required = true;
                } else {
                    vehicleNumberSection.classList.add('hidden');
                    vehicleNumberInput.required = false;
                    vehicleNumberInput.value = '';
                }
            }

            attendanceYes.addEventListener('change', toggleConditionalSections);
            attendanceNo.addEventListener('change', toggleConditionalSections);
            vehicleYes.addEventListener('change', toggleVehicleNumberSection);
            vehicleNo.addEventListener('change', toggleVehicleNumberSection);


            // --- 폼 제출 로직 ---
            const submitBtn = document.getElementById('submit-btn');
            const submitText = document.getElementById('submit-text');
            const submitLoader = document.getElementById('submit-loader');
            const formStatus = document.getElementById('form-status');

            form.addEventListener('submit', function(e) {
                e.preventDefault();

                if (GOOGLE_SHEET_URL === '') {
                    showStatusMessage('Google Sheets URL이 설정되지 않았습니다.', true);
                    return;
                }

                submitBtn.disabled = true;
                submitText.classList.add('hidden');
                submitLoader.classList.remove('hidden');
                formStatus.innerHTML = '';

                const formData = new FormData(form);
                
                fetch(GOOGLE_SHEET_URL, {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.result === 'success') {
                        if (attendanceNo.checked) {
                            showStatusMessage('아쉽습니다ㅜㅜ. 건강하시고, 다음 기회에 꼭 뵙겠습니다!', false);
                        } else {
                            showStatusMessage('알려주셔서 고마워요! 10월 27일에 뵐게요!', false);
                        }
                        form.reset();
                        toggleConditionalSections();
                    } else {
                        throw new Error(data.message || '알 수 없는 오류');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    showStatusMessage(`앗, 보내는 중에 오류가 생겼어요. 다시 시도해주세요.`, true);
                })
                .finally(() => {
                    submitBtn.disabled = false;
                    submitText.classList.remove('hidden');
                    submitLoader.classList.add('hidden');
                });
            });

            function showStatusMessage(message, isError) {
                formStatus.textContent = message;
                formStatus.className = isError 
                    ? 'mt-6 text-center text-red-600 bg-red-100 p-3 rounded-md' 
                    : 'mt-6 text-center text-green-700 bg-green-100 p-3 rounded-md';
            }
        });
        
        // 폰트 등 모든 리소스가 로드된 후 페이지를 부드럽게 표시
        window.onload = function() {
            document.body.style.visibility = 'visible';
            document.body.style.opacity = 1;
        };
    </script>
</body>
</html>

